@model webgallery.ViewModels.AppSubmissionViewModel

<h2>Describe Your Application:</h2>
<h3>At least one language is required.</h3>
<div class="submission-form-section">
    <p>
        <a href="#MetaData"></a>
        Describe your application for visitors who speak:
        <span id="metaDataValidator" title="required" style="color:Red;display:none;">*</span>
    </p>

    <div class="tab_xp tab_default" id="metaDataTabContainer">
        <div class="tab_header">
            @for(var i= 0; i < Model.Languages.Count; i++)
            {
                var lang = Model.Languages[i];
                var classNames = i == 0 ? "tab_active" : string.Empty;

                <span class="@classNames" data-language="@lang.Name"><span class="tab_outer"><span class="tab_inner"><span class="tab_tab">@lang.ShortDisplayName</span></span></span></span>
            }
        </div>
        <div class="tab_body">
            @for (var i = 0; i < Model.Languages.Count; i++)
            {
                var lang = Model.Languages[i];
                var metadata = Model.Metadata.FirstOrDefault(m => string.Compare(m.Language, lang.Name, StringComparison.OrdinalIgnoreCase) == 0)
                    ?? new webgallery.Models.SubmissionLocalizedMetaData {
                        Name = string.Empty,
                        Description = string.Empty,
                        BriefDescription = string.Empty
                    };
                var hideOrNot = i > 0 ? "style='display:none'" : string.Empty;

                <div id="metaDataTab_@lang.Name" @Html.Raw(hideOrNot)>
                    <input type="hidden" name="metadata_@lang.Name" id="metadata_@lang.Name" value="@lang.Name" />
                    <div class="meta-data-caption">@lang.CultureInfo.DisplayName</div>

                    <label for="appName_@lang.Name" class="textbox-label">App Name</label>
                    <input name="AppName_@lang.Name" id="appName_@lang.Name" type="text" value="@metadata.Name" title="App Name" class="textbox" dir="@lang.TextDirection" onchange="createNickname(this)" placeholder="Application" />
                    <div class="explanation">
                        <div class='explanation-inner'>Provide the name of your application.</div>
                    </div>

                    <label for="descriptionTB_@lang.Name" class="textbox-label">Description<span id="descriptionLengthValidator_@lang.Name" title="too many characters" class="validator-in-label" style="color:Red;display:none;">too many characters</span></label>
                    <textarea name="descriptionTB_@lang.Name" id="descriptionTB_@lang.Name"
                              rows="10" cols="20" title="Description" class="textbox" dir="@lang.TextDirection"
                              onkeyup="characterCountDown(1500, this); return true;" onpaste="characterCountDown(1500, this); return true;"
                              placeholder="Description (1500 characters max)">@metadata.Description</textarea>
                    <div class="explanation">
                        <div class='explanation-inner'>
                            <span class="low-count">1500</span> characters remaining<br /><br />
                        </div>
                    </div>

                    <label for="briefDescriptionTB_@lang.Name" class="textbox-label">Brief Description<span id="briefDescriptionLengthValidator_@lang.Name" title="too many characters" class="validator-in-label" style="color:Red;display:none;">too many characters</span></label>
                    <textarea name="briefDescriptionTB_@lang.Name" id="briefDescriptionTB_@lang.Name"
                              rows="10" cols="20" title="Brief Description" class="textbox" dir="@lang.TextDirection"
                              onkeyup="characterCountDown(400, this); return true;" onpaste="characterCountDown(400, this); return true;"
                              placeholder="Brief Description (400 characters max)">@metadata.BriefDescription</textarea>
                    <div class="explanation">
                        <div class='explanation-inner'>
                            <span class="low-count">400</span> characters remaining<br /><br />
                        </div>
                    </div>
                    <div class='clearing'>&nbsp;</div>
                </div>
            }            
        </div>
    </div>
</div>